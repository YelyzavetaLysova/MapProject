@model MapProject.Model.Map

@{
    ViewBag.Title = "MapProject - " + Model.Name;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

    <div class="container">

        <div class="row">
            <div class="col-sm">
                One of three columns
            </div>
            <div class="col-sm">
                One of three columns
            </div>
            <div class="col-sm">
                One of three columns
            </div>
        </div>
    </div>

    <svg height="5000px" width="5000px">
        @{

            foreach (var region in Model.Regions)
            {

                <g>
                    @{

                        string points = String.Empty;
                    }

                    @for (int i = 0; i < region.Points.Count; i++)
                    {

                        var point = region.Points[i];

                        points += point.X + "," + point.Y + " ";
                    }

                    <polygon id="@region.Id" points="@points.Remove(points.Length - 1)" fill="white" stroke="black" onclick="regionOnClickHandler(this.id)" />

                </g>
            }


        }
    </svg>

    <script>
        function regionOnClickHandler(clicked_id) {
            //window.alert("I am region " + clicked_id);

            var element = document.getElementById(clicked_id);

            if (element.getAttribute("fill") == "white") {

                element.setAttribute("fill", "red");

                return;
            }

            if (element.getAttribute("fill") == "red") {

                element.setAttribute("fill", "green");

                return;
            }

            if (element.getAttribute("fill") == "green") {

                element.setAttribute("fill", "blue");

                return;
            }

            if (element.getAttribute("fill") == "blue") {

                element.setAttribute("fill", "yellow");

                return;
            }

            if (element.getAttribute("fill") == "yellow") {

                element.setAttribute("fill", "white");

                return;
            }

            //element.setAttribute("fill", "red");
        }
    </script>

